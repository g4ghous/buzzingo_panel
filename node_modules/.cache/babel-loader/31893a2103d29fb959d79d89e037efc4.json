{"ast":null,"code":"var _jsxFileName = \"D:\\\\Office-Work\\\\Panel\\\\buzzingo_panel-master\\\\src\\\\component\\\\CreateCategory.js\";\nimport React, { Component } from 'react';\nimport { Serverurl, ServerUrlBuzzingo } from '../Common/ServerUrl';\nimport axios from 'axios';\nimport $ from 'jquery';\nimport swal from 'sweetalert';\nexport class CreateCategory extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      token: '',\n      image: '',\n      category_name: '',\n      category_count: '',\n      error1: '',\n      error2: '',\n      loading: false\n    }; // This binding is necessary to make `this` work in the callback\n    // this.btnSubmitClick = this.btnSubmitClick.bind(this);\n  }\n\n  async componentDidMount() {\n    var token = await localStorage.getItem('token');\n    this.setState({\n      token\n    });\n  } // handleFileInput = (event) => {                   //for image input \n  //     console.log(event.target.files, 'file')\n  //     console.log(event.target.files[0], 'file 0')\n  //     let file = event.target.files[0]\n  //     this.setState({ event_image: file, \n  //         errorText: \"\"\n  //     })\n  //     if (event.target.files) {\n  //         this.setState({\n  //             [event.target.name]: event.target.files[0],\n  //             file: URL.createObjectURL(event.target.files[0])\n  //         })\n  //     }\n  //     console.log(event.target.files[0])\n  // }\n\n\n  HandleImageInput(e) {\n    // let image = e.target.files[0];\n    // let form = new FormData();\n    // form.append('image', image);\n    console.log(e.target.files, 'file');\n    console.log(e.target.files[0], 'file 0');\n    let file = e.target.files[0];\n    this.setState({\n      image: file,\n      errorText: \"\"\n    });\n\n    if (e.target.files) {\n      this.setState({\n        [e.target.image]: e.target.files[0],\n        file: URL.createObjectURL(e.target.files[0])\n      });\n    }\n\n    console.log(e.target.files[0]);\n  }\n\n  HandleNameInput(e) {\n    this.setState({\n      category_name: e.target.value,\n      error1: ''\n    });\n  }\n\n  HandleCountInput(e) {\n    this.setState({\n      category_count: e.target.value,\n      error2: ''\n    });\n  }\n\n  HandleBtnSubmitClick() {\n    var validation = true;\n\n    if (this.state.name == \"\") {\n      this.setState({\n        errorText: \"*Category name is required!\"\n      });\n      validation = false;\n    }\n\n    if (this.state.count == \"\") {\n      this.setState({\n        errorText: \"*Category count is required!\"\n      });\n      validation = false;\n    }\n\n    if (validation == true) {\n      let formData = new FormData();\n      formData.append('image', this.state.image);\n      formData.append('category_name', this.state.category_name);\n      formData.append('category_count', this.state.category_count); // var data = {\n      //     'image': this.state.image,\n      //     'name': this.state.name,\n      //     'count': this.state.count\n      // }\n\n      this.setState({\n        loading: true\n      }); // var error = document.getElementById('err');\n      // if (this.state.email === '' || this.state.password === '') {\n      //     this.setState({\n      //         error: 'Please fill fields carefully'\n      //     })\n      //     error.classList.add('errorMsg');\n      //     setTimeout(() => {\n      //         error.classList.remove('errorMsg')\n      //         this.setState({\n      //             error: ''\n      //         })\n      //     }, 3000)\n      // } \n      // else {\n      // var data;\n\n      console.log(this.state.token);\n      axios({\n        method: 'post',\n        url: ServerUrlBuzzingo + 'category_add',\n        data: formData,\n        headers: {\n          Authorization: 'Bearer' + ' ' + this.state.token\n        }\n      }).then(res => {\n        console.log('res', res.data.data);\n      }).catch(err => {\n        console.log({\n          err\n        });\n\n        if (err) {\n          // error.classList.add('errorMsg');\n          this.setState({\n            error1: 'Adding category Failed! Please try again',\n            loading: true\n          }); // error.classList.add('errorMsg');\n          // setTimeout(() => {\n          //     error.classList.remove('errorMsg')\n          //     this.setState({\n          //         error: '',\n          //         loading: false\n          //     })\n          // }, 3000)\n        }\n      }); // }\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-lg-11 col-md-12 card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"parent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"tab-content\",\n      id: \"myTabContent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"tab-pane fade show active\",\n      id: \"home\",\n      role: \"tabpanel\",\n      \"aria-labelledby\": \"home-tab\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      class: \"mt-0 header-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 41\n      }\n    }, \"Add Category\"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group row input-margin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"example-search-input\",\n      class: \"col-sm-2 col-form-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 45\n      }\n    }, \"Image Upload\"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-sm-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      id: \"input-file-now\",\n      name: \"image\",\n      class: \"dropify\",\n      onChange: this.HandleImageInput.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 49\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group row input-margin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"example-text-input\",\n      class: \"col-sm-2 col-form-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 45\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-sm-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      class: \"form-control\",\n      name: \"category_name\",\n      type: \"text\",\n      id: \"example-text-input\",\n      onChange: this.HandleNameInput.bind(this),\n      placeholder: \"Category name\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 49\n      }\n    }))), this.state.error1 ? /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        color: 'red'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 45\n      }\n    }, this.state.error1) : null, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"err\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 41\n      }\n    }, this.state.error1), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group row input-margin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"example-text-input\",\n      class: \"col-sm-2 col-form-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 45\n      }\n    }, \"Count\"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-sm-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      class: \"form-control\",\n      name: \"category_count\",\n      type: \"number\",\n      id: \"example-text-input\",\n      onChange: this.HandleCountInput.bind(this),\n      placeholder: \"Total promotions count\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 49\n      }\n    }))), this.state.error2 ? /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        color: 'red'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 45\n      }\n    }, this.state.error2) : null, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"err\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 41\n      }\n    }, this.state.error2), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 42\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"button-align\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      class: \"btn btn-danger waves-effect waves-light submit-button\",\n      onClick: this.HandleBtnSubmitClick.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 49\n      }\n    }, \"Submit\"))))))))));\n  }\n\n}\nexport default CreateCategory;","map":{"version":3,"sources":["D:/Office-Work/Panel/buzzingo_panel-master/src/component/CreateCategory.js"],"names":["React","Component","Serverurl","ServerUrlBuzzingo","axios","$","swal","CreateCategory","constructor","props","state","token","image","category_name","category_count","error1","error2","loading","componentDidMount","localStorage","getItem","setState","HandleImageInput","e","console","log","target","files","file","errorText","URL","createObjectURL","HandleNameInput","value","HandleCountInput","HandleBtnSubmitClick","validation","name","count","formData","FormData","append","method","url","data","headers","Authorization","then","res","catch","err","render","bind","color"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Serverurl, ServerUrlBuzzingo } from '../Common/ServerUrl';\nimport axios from 'axios';\nimport $ from 'jquery';\nimport swal from 'sweetalert';\n\nexport class CreateCategory extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            token: '',\n            image: '',\n            category_name: '',\n            category_count: '',\n            error1: '',\n            error2: '',\n            loading: false,\n        };\n\n        // This binding is necessary to make `this` work in the callback\n        // this.btnSubmitClick = this.btnSubmitClick.bind(this);\n    }\n\n    async componentDidMount() {\n        var token = await localStorage.getItem('token');\n        this.setState({\n          token,\n        });\n    }\n\n    // handleFileInput = (event) => {                   //for image input \n    //     console.log(event.target.files, 'file')\n    //     console.log(event.target.files[0], 'file 0')\n    //     let file = event.target.files[0]\n    //     this.setState({ event_image: file, \n    //         errorText: \"\"\n    //     })\n    //     if (event.target.files) {\n    //         this.setState({\n    //             [event.target.name]: event.target.files[0],\n    //             file: URL.createObjectURL(event.target.files[0])\n    //         })\n    //     }\n    //     console.log(event.target.files[0])\n    // }\n\n    HandleImageInput(e) {\n        // let image = e.target.files[0];\n        // let form = new FormData();\n        // form.append('image', image);\n\n        console.log(e.target.files, 'file')\n        console.log(e.target.files[0], 'file 0')\n        let file = e.target.files[0]\n\n        this.setState({\n            image: file,\n            errorText: \"\"\n        })\n\n        if (e.target.files) {\n            this.setState({\n                [e.target.image]: e.target.files[0],\n                file: URL.createObjectURL(e.target.files[0])\n            })\n        }\n        console.log(e.target.files[0])\n    }\n\n    HandleNameInput(e) {\n        this.setState({\n            category_name: e.target.value,\n            error1: ''\n        })\n    }\n\n    HandleCountInput(e) {\n        this.setState({\n            category_count: e.target.value,\n            error2: ''\n        })\n    }\n\n    HandleBtnSubmitClick() {\n        var validation = true;\n\n        if (this.state.name == \"\") {\n            this.setState({\n                errorText: \"*Category name is required!\"\n            })\n            validation = false;\n        }\n\n        if (this.state.count == \"\") {\n            this.setState({\n                errorText: \"*Category count is required!\"\n            })\n            validation = false;\n        }\n\n        if(validation == true){\n            let formData = new FormData();\n            formData.append('image', this.state.image)\n            formData.append('category_name', this.state.category_name)\n            formData.append('category_count', this.state.category_count)\n\n            // var data = {\n            //     'image': this.state.image,\n            //     'name': this.state.name,\n            //     'count': this.state.count\n            // }\n\n            this.setState({\n                loading: true\n            })\n\n            // var error = document.getElementById('err');\n            // if (this.state.email === '' || this.state.password === '') {\n            //     this.setState({\n            //         error: 'Please fill fields carefully'\n            //     })\n            //     error.classList.add('errorMsg');\n            //     setTimeout(() => {\n            //         error.classList.remove('errorMsg')\n            //         this.setState({\n            //             error: ''\n            //         })\n            //     }, 3000)\n            // } \n            // else {\n                // var data;\n            console.log(this.state.token)\n\n            axios({\n                method: 'post',\n                url: ServerUrlBuzzingo + 'category_add',\n                data: formData,\n                headers: {\n                    Authorization: 'Bearer' + ' ' + this.state.token,\n                  },\n            })\n            .then(res => {\n                console.log('res', res.data.data)\n            })\n            .catch((err) => {\n                console.log({ err })\n                if (err) {\n                    // error.classList.add('errorMsg');\n                    this.setState({\n                        error1: 'Adding category Failed! Please try again',\n                        loading: true\n                    })\n                    // error.classList.add('errorMsg');\n                    // setTimeout(() => {\n                    //     error.classList.remove('errorMsg')\n                    //     this.setState({\n                    //         error: '',\n                    //         loading: false\n                    //     })\n                    // }, 3000)\n                }\n            })\n            // }\n        }\n    }\n\n    render() {\n        return (\n            <div>\n\n                <div class=\"container\">\n                    <div class=\"row\">\n                        <div class=\"col-lg-11 col-md-12 card\">\n                            <div class=\"parent\">\n                                {/* <ul class=\"nav nav-tabs\" id=\"myTab\" role=\"tablist\">\n                                    <li class=\"nav-item\">\n                                        <a class=\"nav-link active\" id=\"home-tab\" data-toggle=\"tab\" href=\"#home\" role=\"tab\" aria-controls=\"home\" aria-selected=\"true\">Englsh</a>\n                                    </li>\n                                    {/* <li class=\"nav-item\">\n                                        <a class=\"nav-link\" id=\"profile-tab\" data-toggle=\"tab\" href=\"#profile\" role=\"tab\" aria-controls=\"profile\" aria-selected=\"false\">اردو</a>\n                                    </li> \n                                </ul> */}\n                                <div class=\"tab-content\" id=\"myTabContent\">\n                                    <div class=\"tab-pane fade show active\" id=\"home\" role=\"tabpanel\" aria-labelledby=\"home-tab\">\n                                        <h4 class=\"mt-0 header-title\">Add Category</h4>\n\n                                        <div class=\"form-group row input-margin\">\n                                            <label for=\"example-search-input\" class=\"col-sm-2 col-form-label\">Image Upload</label>\n                                            <div class=\"col-sm-12\">\n                                                <input type=\"file\" id=\"input-file-now\" name=\"image\" class=\"dropify\" onChange={this.HandleImageInput.bind(this)} />\n                                            </div>\n                                        </div>\n                                        <div class=\"form-group row input-margin\">\n                                            <label for=\"example-text-input\" class=\"col-sm-2 col-form-label\">Name</label>\n                                            <div class=\"col-sm-10\">\n                                                <input class=\"form-control\" name=\"category_name\" type=\"text\" id=\"example-text-input\" onChange={this.HandleNameInput.bind(this)} placeholder=\"Category name\" required />\n                                            </div>\n                                        </div>\n\n                                        {this.state.error1 ?\n                                            <p style={{ color: 'red' }}>{this.state.error1}</p>\n                                            : null\n                                        }\n                                        <div id=\"err\">{this.state.error1}</div>\n\n                                        {/* <div class=\"form-group row input-margin\">\n                                            <label for=\"example-text-input\" class=\"col-sm-2 col-form-label\">Discription</label>\n                                            <div class=\"col-sm-10\">\n                                                <input class=\"form-control\" name=\"discription\" type=\"text\" id=\"example-text-input\" />\n                                            </div>\n                                        </div> */}\n\n                                        {/* <div class=\"form-group row\">\n                                            <label for=\"example-email-input\" class=\"col-sm-2 col-form-label\">Slug</label>\n                                            <div class=\"col-sm-10\">\n                                                <input class=\"form-control\" name=\"slug\" type=\"text\" id=\"example-email-input\" />\n                                            </div>\n                                        </div> */}\n\n                                        <div class=\"form-group row input-margin\">\n                                            <label for=\"example-text-input\" class=\"col-sm-2 col-form-label\">Count</label>\n                                            <div class=\"col-sm-10\">\n                                                <input class=\"form-control\" name=\"category_count\" type=\"number\" id=\"example-text-input\" onChange={this.HandleCountInput.bind(this)} placeholder=\"Total promotions count\" required />\n                                            </div>\n                                        </div>\n\n                                        {this.state.error2 ?\n                                            <p style={{ color: 'red' }}>{this.state.error2}</p>\n                                            : null\n                                        }\n                                        <div id=\"err\">{this.state.error2}</div>\n                                       \n                                         <div class=\"form-group row\">\n                                            <div class=\"button-align\">\n                                                <button type=\"submit\" class=\"btn btn-danger waves-effect waves-light submit-button\" onClick={this.HandleBtnSubmitClick.bind(this)} >Submit</button>\n                                            </div>\n                                        </div>\n                                        {/* {this.state.errorText ?\n                                            <p style={{ color: 'red' }}>{this.state.errorText}</p>\n                                            : null\n                                        }\n                                        <div id=\"err\">{this.state.error}</div> */}\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default CreateCategory\n\n"]},"metadata":{},"sourceType":"module"}