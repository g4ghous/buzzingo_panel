{"ast":null,"code":"var _jsxFileName = \"D:\\\\Office-Work\\\\Panel\\\\buzzingo_panel-master\\\\src\\\\component\\\\CreateCategory.js\";\nimport React, { Component } from 'react';\nimport { Serverurl, ServerUrlBuzzingo } from '../Common/ServerUrl';\nimport axios from 'axios';\nimport $ from 'jquery';\nimport swal from 'sweetalert';\nexport class CreateCategory extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleFileInput = event => {\n      console.log(event.target.files, 'file');\n      console.log(event.target.files[0], 'file 0');\n      let file = event.target.files[0];\n      this.setState({\n        event_image: file,\n        errorText: \"\"\n      });\n\n      if (event.target.files) {\n        this.setState({\n          [event.target.name]: event.target.files[0],\n          file: URL.createObjectURL(event.target.files[0])\n        });\n      }\n\n      console.log(event.target.files[0]);\n    };\n\n    this.state = {\n      token: '',\n      image: [],\n      name: '',\n      count: '',\n      error1: '',\n      error2: '',\n      loading: false\n    }; // This binding is necessary to make `this` work in the callback\n    // this.btnSubmitClick = this.btnSubmitClick.bind(this);\n  }\n\n  async componentDidMount() {\n    var token = await localStorage.getItem('token');\n    this.setState({\n      token\n    });\n  }\n\n  HandleImageInput(e) {\n    // let image = e.target.files[0];\n    // let form = new FormData();\n    // form.append('image', image);\n    this.setState({\n      image: e.target.files[0]\n    });\n  }\n\n  HandleNameInput(e) {\n    this.setState({\n      name: e.target.value,\n      error1: ''\n    });\n  }\n\n  HandleCountInput(e) {\n    this.setState({\n      count: e.target.value,\n      error2: ''\n    });\n  }\n\n  HandleBtnSubmitClick() {\n    var validation = true;\n\n    if (this.state.name == \"\") {\n      this.setState({\n        errorText: \"*Category name is required!\"\n      });\n      validation = false;\n    }\n\n    if (this.state.count == \"\") {\n      this.setState({\n        errorText: \"*Category count is required!\"\n      });\n      validation = false;\n    }\n\n    if (validation == true) {\n      var data = {\n        'image': this.state.image,\n        'name': this.state.name,\n        'count': this.state.count\n      };\n      this.setState({\n        loading: true\n      }); // var error = document.getElementById('err');\n      // if (this.state.email === '' || this.state.password === '') {\n      //     this.setState({\n      //         error: 'Please fill fields carefully'\n      //     })\n      //     error.classList.add('errorMsg');\n      //     setTimeout(() => {\n      //         error.classList.remove('errorMsg')\n      //         this.setState({\n      //             error: ''\n      //         })\n      //     }, 3000)\n      // } \n      // else {\n      // var data;\n\n      console.log(this.state.token);\n      axios({\n        method: 'post',\n        url: ServerUrlBuzzingo + 'category_add',\n        data: data,\n        headers: {\n          Authorization: 'Bearer' + ' ' + this.state.token\n        }\n      }).then(res => {\n        console.log('res', res.data.data);\n      }).catch(err => {\n        console.log({\n          err\n        });\n\n        if (err) {\n          // error.classList.add('errorMsg');\n          this.setState({\n            error1: 'Adding category Failed! Please try again',\n            loading: true\n          }); // error.classList.add('errorMsg');\n          // setTimeout(() => {\n          //     error.classList.remove('errorMsg')\n          //     this.setState({\n          //         error: '',\n          //         loading: false\n          //     })\n          // }, 3000)\n        }\n      }); // }\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-lg-11 col-md-12 card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"parent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"tab-content\",\n      id: \"myTabContent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"tab-pane fade show active\",\n      id: \"home\",\n      role: \"tabpanel\",\n      \"aria-labelledby\": \"home-tab\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      class: \"mt-0 header-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 41\n      }\n    }, \"Add Category\"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group row input-margin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"example-search-input\",\n      class: \"col-sm-2 col-form-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 45\n      }\n    }, \"Image Upload\"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-sm-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      id: \"input-file-now\",\n      name: \"avatar\",\n      class: \"dropify\",\n      onChange: this.HandleImageInput.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 49\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group row input-margin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"example-text-input\",\n      class: \"col-sm-2 col-form-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 45\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-sm-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      class: \"form-control\",\n      name: \"name\",\n      type: \"text\",\n      id: \"example-text-input\",\n      onChange: this.HandleNameInput.bind(this),\n      placeholder: \"Category name\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 49\n      }\n    }))), this.state.error1 ? /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        color: 'red'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 45\n      }\n    }, this.state.error1) : null, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"err\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 41\n      }\n    }, this.state.error1), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group row input-margin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"example-text-input\",\n      class: \"col-sm-2 col-form-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 45\n      }\n    }, \"Count\"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-sm-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      class: \"form-control\",\n      name: \"count\",\n      type: \"number\",\n      id: \"example-text-input\",\n      onChange: this.HandleCountInput.bind(this),\n      placeholder: \"Total promotions count\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 49\n      }\n    }))), this.state.error2 ? /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        color: 'red'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 45\n      }\n    }, this.state.error2) : null, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"err\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 41\n      }\n    }, this.state.error2), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 42\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"button-align\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      class: \"btn btn-danger waves-effect waves-light submit-button\",\n      onClick: this.HandleBtnSubmitClick.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 49\n      }\n    }, \"Submit\"))))))))));\n  }\n\n}\nexport default CreateCategory;","map":{"version":3,"sources":["D:/Office-Work/Panel/buzzingo_panel-master/src/component/CreateCategory.js"],"names":["React","Component","Serverurl","ServerUrlBuzzingo","axios","$","swal","CreateCategory","constructor","props","handleFileInput","event","console","log","target","files","file","setState","event_image","errorText","name","URL","createObjectURL","state","token","image","count","error1","error2","loading","componentDidMount","localStorage","getItem","HandleImageInput","e","HandleNameInput","value","HandleCountInput","HandleBtnSubmitClick","validation","data","method","url","headers","Authorization","then","res","catch","err","render","bind","color"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Serverurl, ServerUrlBuzzingo } from '../Common/ServerUrl';\nimport axios from 'axios';\nimport $ from 'jquery';\nimport swal from 'sweetalert';\n\nexport class CreateCategory extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            token: '',\n            image: [],\n            name: '',\n            count: '',\n            error1: '',\n            error2: '',\n            loading: false,\n        };\n\n        // This binding is necessary to make `this` work in the callback\n        // this.btnSubmitClick = this.btnSubmitClick.bind(this);\n    }\n\n    async componentDidMount() {\n        var token = await localStorage.getItem('token');\n        this.setState({\n          token,\n        });\n    }\n\n    handleFileInput = (event) => {\n        console.log(event.target.files, 'file')\n        console.log(event.target.files[0], 'file 0')\n        let file = event.target.files[0]\n        this.setState({ event_image: file, \n            errorText: \"\"\n        })\n        if (event.target.files) {\n            this.setState({\n                [event.target.name]: event.target.files[0],\n                file: URL.createObjectURL(event.target.files[0])\n            })\n        }\n        console.log(event.target.files[0])\n    }\n\n    HandleImageInput(e) {\n        // let image = e.target.files[0];\n        // let form = new FormData();\n        // form.append('image', image);\n\n        this.setState({\n            image: e.target.files[0],\n        })\n    }\n\n    HandleNameInput(e) {\n        this.setState({\n            name: e.target.value,\n            error1: ''\n        })\n    }\n\n    HandleCountInput(e) {\n        this.setState({\n            count: e.target.value,\n            error2: ''\n        })\n    }\n\n    HandleBtnSubmitClick() {\n        var validation = true;\n\n        if (this.state.name == \"\") {\n            this.setState({\n                errorText: \"*Category name is required!\"\n            })\n            validation = false;\n        }\n\n        if (this.state.count == \"\") {\n            this.setState({\n                errorText: \"*Category count is required!\"\n            })\n            validation = false;\n        }\n\n        if(validation == true){\n            var data = {\n                'image': this.state.image,\n                'name': this.state.name,\n                'count': this.state.count\n            }\n\n            this.setState({\n                loading: true\n            })\n\n            // var error = document.getElementById('err');\n            // if (this.state.email === '' || this.state.password === '') {\n            //     this.setState({\n            //         error: 'Please fill fields carefully'\n            //     })\n            //     error.classList.add('errorMsg');\n            //     setTimeout(() => {\n            //         error.classList.remove('errorMsg')\n            //         this.setState({\n            //             error: ''\n            //         })\n            //     }, 3000)\n            // } \n            // else {\n                // var data;\n            console.log(this.state.token)\n\n            axios({\n                method: 'post',\n                url: ServerUrlBuzzingo + 'category_add',\n                data: data,\n                headers: {\n                    Authorization: 'Bearer' + ' ' + this.state.token,\n                  },\n            })\n            .then(res => {\n                console.log('res', res.data.data)\n            })\n            .catch((err) => {\n                console.log({ err })\n                if (err) {\n                    // error.classList.add('errorMsg');\n                    this.setState({\n                        error1: 'Adding category Failed! Please try again',\n                        loading: true\n                    })\n                    // error.classList.add('errorMsg');\n                    // setTimeout(() => {\n                    //     error.classList.remove('errorMsg')\n                    //     this.setState({\n                    //         error: '',\n                    //         loading: false\n                    //     })\n                    // }, 3000)\n                }\n            })\n            // }\n        }\n    }\n\n    render() {\n        return (\n            <div>\n\n                <div class=\"container\">\n                    <div class=\"row\">\n                        <div class=\"col-lg-11 col-md-12 card\">\n                            <div class=\"parent\">\n                                {/* <ul class=\"nav nav-tabs\" id=\"myTab\" role=\"tablist\">\n                                    <li class=\"nav-item\">\n                                        <a class=\"nav-link active\" id=\"home-tab\" data-toggle=\"tab\" href=\"#home\" role=\"tab\" aria-controls=\"home\" aria-selected=\"true\">Englsh</a>\n                                    </li>\n                                    {/* <li class=\"nav-item\">\n                                        <a class=\"nav-link\" id=\"profile-tab\" data-toggle=\"tab\" href=\"#profile\" role=\"tab\" aria-controls=\"profile\" aria-selected=\"false\">اردو</a>\n                                    </li> \n                                </ul> */}\n                                <div class=\"tab-content\" id=\"myTabContent\">\n                                    <div class=\"tab-pane fade show active\" id=\"home\" role=\"tabpanel\" aria-labelledby=\"home-tab\">\n                                        <h4 class=\"mt-0 header-title\">Add Category</h4>\n\n                                        <div class=\"form-group row input-margin\">\n                                            <label for=\"example-search-input\" class=\"col-sm-2 col-form-label\">Image Upload</label>\n                                            <div class=\"col-sm-12\">\n                                                <input type=\"file\" id=\"input-file-now\" name=\"avatar\" class=\"dropify\" onChange={this.HandleImageInput.bind(this)} />\n                                            </div>\n                                        </div>\n                                        <div class=\"form-group row input-margin\">\n                                            <label for=\"example-text-input\" class=\"col-sm-2 col-form-label\">Name</label>\n                                            <div class=\"col-sm-10\">\n                                                <input class=\"form-control\" name=\"name\" type=\"text\" id=\"example-text-input\" onChange={this.HandleNameInput.bind(this)} placeholder=\"Category name\" required />\n                                            </div>\n                                        </div>\n\n                                        {this.state.error1 ?\n                                            <p style={{ color: 'red' }}>{this.state.error1}</p>\n                                            : null\n                                        }\n                                        <div id=\"err\">{this.state.error1}</div>\n\n                                        {/* <div class=\"form-group row input-margin\">\n                                            <label for=\"example-text-input\" class=\"col-sm-2 col-form-label\">Discription</label>\n                                            <div class=\"col-sm-10\">\n                                                <input class=\"form-control\" name=\"discription\" type=\"text\" id=\"example-text-input\" />\n                                            </div>\n                                        </div> */}\n\n                                        {/* <div class=\"form-group row\">\n                                            <label for=\"example-email-input\" class=\"col-sm-2 col-form-label\">Slug</label>\n                                            <div class=\"col-sm-10\">\n                                                <input class=\"form-control\" name=\"slug\" type=\"text\" id=\"example-email-input\" />\n                                            </div>\n                                        </div> */}\n\n                                        <div class=\"form-group row input-margin\">\n                                            <label for=\"example-text-input\" class=\"col-sm-2 col-form-label\">Count</label>\n                                            <div class=\"col-sm-10\">\n                                                <input class=\"form-control\" name=\"count\" type=\"number\" id=\"example-text-input\" onChange={this.HandleCountInput.bind(this)} placeholder=\"Total promotions count\" required />\n                                            </div>\n                                        </div>\n\n                                        {this.state.error2 ?\n                                            <p style={{ color: 'red' }}>{this.state.error2}</p>\n                                            : null\n                                        }\n                                        <div id=\"err\">{this.state.error2}</div>\n                                       \n                                         <div class=\"form-group row\">\n                                            <div class=\"button-align\">\n                                                <button type=\"submit\" class=\"btn btn-danger waves-effect waves-light submit-button\" onClick={this.HandleBtnSubmitClick.bind(this)} >Submit</button>\n                                            </div>\n                                        </div>\n                                        {/* {this.state.errorText ?\n                                            <p style={{ color: 'red' }}>{this.state.errorText}</p>\n                                            : null\n                                        }\n                                        <div id=\"err\">{this.state.error}</div> */}\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default CreateCategory\n\n"]},"metadata":{},"sourceType":"module"}